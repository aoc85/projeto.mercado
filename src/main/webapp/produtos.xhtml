<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html">
	
	
	
	<ui:composition template="/index.xhtml">
	  <ui:define name="conteudo">
	  <h:outputScript library="js" name="produtos.js" target="head"/>	  
	  <div class="col-md-10">
		  <h3>Estoque</h3>
		  <h:form>
	  	  <table class="table table-hover table.striped">
		  	<tr>
		  	  <th>id do Produto</th>
		  	  <th>Nome do Produto</th>
		  	  <th>Quantidade</th>
		  	  <th>Unidades</th>
		  	  <th>Preço</th>
		  	  <th>Editar</th>
		  	  <th>Excluir</th>
		  	</tr>
		  	<ui:repeat var="produto" value="#{produtoBean.listaProduto}">
		  	  <tr>
		  	    <td>#{produto.id}</td>
		  	    <td>#{produto.nome}</td>
		  	    <td>#{produto.quantidade}</td>
		  	    <td>#{produto.unidade}</td>
		  	    <td>#{produto.preco}</td>
		  	    <td><h:commandLink styleClass="glyphicon glyphicon-pencil" action="#{produtoBean.editar(produto.id)}">
		  	    </h:commandLink></td>
		  	  <td>
		  	    <h:commandLink styleClass="glyphicon glyphicon-remove" action="#{produtoBean.excluir(produto.id)}">
		  	    </h:commandLink>
		  	  </td>
		  	   </tr>		  	
		  	</ui:repeat>
		  </table>
		  </h:form>
		 </div>
		<button class="btn btn-success pull rigth adicionar">Adicionar novo Produto</button>
		<!-- Modal -->
	<div class="modal fade" id="produtosModal" role="dialog">
		<h:form>
			<div class="modal-dialog">
				<!-- Modal content-->
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal">&times;</button>
						<h4 class="modal-title">Adicionar Produto</h4>
					</div>
					<div class="modal-body form-group">

						<div class="col-md-12">
							<label> Nome: </label>
							<h:inputText value="#{produtoBean.produto}" class="form-control" placeholder="Nome do Produto"/>	
						</div>
						<div class="col-md-12">
							<label> Preço: </label>
							<h:inputText value="#{produtoBean.preco}" class="form-control preco">
							  <f:convertNumber pattern="#00.00"/>
							</h:inputText>
							<p id="alerta"><small>O valor do preço deve ser informado no formato 99.99</small></p>	
						</div>
						<div class="col-md-12">
							<label> Quantidade: </label>
							<h:inputText value="#{produtoBean.quantidade}" class="form-control quantidade">
							  <f:convertNumber integerOnly="true"/>
							</h:inputText>	
						</div>
						<div class="col-md-12">
							<label> Unidade: </label>
							<h:inputText value="#{produtoBean.unidade}" class="form-control"/>	
						</div>						
					</div>
					<br></br> <br></br> <br></br>
					<div class="modal-footer">
						<button type="button" class="btn btn-danger" data-dismiss="modal">Sair</button>
						<h:commandButton action="#{produtoBean.adicionar(produtoBean.produto, produtoBean.preco, produtoBean.quantidade, produtoBean.unidade)}" value="Adicionar" styleClass="btn btn-success"/>
					</div>
				</div>
			</div>
		</h:form>
	  </div>
	</ui:define>
	</ui:composition>
</html>